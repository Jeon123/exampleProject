<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  data-layout-decorate="~{layout/default}"
	  >
<head>
	<script th:src="@{/file/js/search.js}"></script>
</head>

  <div layout:fragment="content" class="col-sm-10 text-left"> 
    <h4>FreeBoard</h4>
    <h5>검색결과'<span th:text="${pageMaker.totalCount}"></span>'건 입니다.</h5>
    <p th:text="${url}"></p>
    <button th:if="${session.loginUser!=null}" onclick="location.href='/freeBoardWritePage'">글쓰기</button>
    <table>
    	<thead>
    		<tr>
    			<th>&nbsp;&nbsp;글 제목&nbsp;&nbsp;</th>
    			<th>&nbsp;&nbsp;작성&nbsp;&nbsp;</th>
    		</tr>
    	</thead>
    	<tbody id="textsearch">
	<th:block th:if="${freeBoard!=null}">
		<th:block th:each="board:${freeBoard}">
			<tr>
				<td><a th:onclick="|javascript:getPost('${board.freeId}')|" th:text="${board.title}"></a></td>
				<td><span th:text="${board.writer}"></span></td>
			</tr>
		</th:block>
	</th:block>
    	</tbody>
    </table>
    
    <!-- 페이지 번호 -->
     <th:block th:if=${pageMaker.totalCount!=0}>
     <a th:if="${pageMaker.pageNum!=1}" style="text-decoration: none" th:onclick="|javascript:page('1')|">&laquo;&laquo;</a>
     <a th:if="${pageMaker.pageNum!=1}" style="text-decoration: none" th:onclick="|javascript:prevPage('${pageMaker.pageNum}')|">&laquo;</a>
     <th:block th:each="pageNumber:${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
     	&nbsp;<a th:onclick="|javascript:page('${pageNumber}')|" th:text="${pageNumber}"></a>&nbsp;
     </th:block>
     <a th:if="${(pageMaker.pageNum)!=pageMaker.totalPageNum}" style="text-decoration: none" th:onclick="|javascript:nextPage('${pageMaker.pageNum}')|">&raquo;</a>
     <a th:if="${(pageMaker.pageNum)!=pageMaker.totalPageNum}" style="text-decoration: none" th:onclick="|javascript:page('${pageMaker.totalPageNum}')|">&raquo;&raquo;</a>
    </th:block>
    <hr>
    <form id="search">
     <input type="text" id="searchText" placeholder="검색어를 입력하세요." th:value="${searchText}"></input>
     <input type="submit" value="찾기"></input>
    </form>
  </div>

	
</html>
